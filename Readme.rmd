---
title: "The Kingdom of God Is Within You"
author: "Jamie Hargreaves"
date: "23 March, 2019"
output: rmarkdown::github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

<style>
body{
  font-family: Lato;
  font-size: 12pt;
}
</style>

## Setting up
#### Loading libraries

We'll start by loading the relevant libraries and importing the data: we'll be using tidyverse for packages such as dplyr and stringr, tidytext as the basis for our text mining, magrittr for its pipes (mainly ```%<>%```, since ```%>%``` is already loaded with tidyverse), and gutenbergr for our book.

```{r, warning = FALSE, message = FALSE}
library(tidyverse)
library(tidytext)
library(magrittr)
library(gutenbergr)
```

#### Importing our data

We'll be using [Project Gutenberg](http://www.gutenberg.org/) as the source of our text data. We can see the list of books available from Project Gutenberg using the gutenbergr package:

```{r}
gutenberg_metadata
```

We can use dplyr and stringr to look for any books similar to our title, since there might be multiple versions available from Project Gutenberg:

```{r}
gutenberg_metadata %>%
  filter(str_detect(str_to_lower(title), "kingdom of god")) %>%
  select(title, gutenberg_id)
```

We want the second book in the list, so we'll pass its ID to the ```gutenberg_download``` function:

```{r, message = FALSE}
book <- gutenberg_download(43302)
book %<>%
  select(-one_of("gutenberg_id"))
book %>%
  head()
```
